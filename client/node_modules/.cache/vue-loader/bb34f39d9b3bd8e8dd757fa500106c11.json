{"remainingRequest":"/Users/remy/Documents/GitHub/harmonizer/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/remy/Documents/GitHub/harmonizer/client/src/components/unit/CreateUnit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/remy/Documents/GitHub/harmonizer/client/src/components/unit/CreateUnit.vue","mtime":1573313705311},{"path":"/Users/remy/Documents/GitHub/harmonizer/client/node_modules/cache-loader/dist/cjs.js","mtime":1572018405923},{"path":"/Users/remy/Documents/GitHub/harmonizer/client/node_modules/babel-loader/lib/index.js","mtime":1572018403706},{"path":"/Users/remy/Documents/GitHub/harmonizer/client/node_modules/vuetify-loader/lib/loader.js","mtime":1572018408543},{"path":"/Users/remy/Documents/GitHub/harmonizer/client/node_modules/cache-loader/dist/cjs.js","mtime":1572018405923},{"path":"/Users/remy/Documents/GitHub/harmonizer/client/node_modules/vue-loader/lib/index.js","mtime":1572018406322}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvUGFuZWwnCmltcG9ydCBVbml0U2VydmljZSBmcm9tICJAL3NlcnZpY2VzL1VuaXRTZXJ2aWNlIjsKaW1wb3J0IERpc2NpcGxpbmVTZXJ2aWNlIGZyb20gIkAvc2VydmljZXMvRGlzY2lwbGluZVNlcnZpY2UiOwpleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhKCkgewogICAgICAgIHJldHVybnsKICAgICAgICAgICAgdW5pdDogewogICAgICAgICAgICAgICAgdW5pdElEIDogbnVsbCwKICAgICAgICAgICAgICAgIHVuaXRDb2RlOiBudWxsLAogICAgICAgICAgICAgICAgdW5pdE5hbWU6IG51bGwsCiAgICAgICAgICAgICAgICB1bml0VHV0b3JpYWxTaXplOiBudWxsLAogICAgICAgICAgICAgICAgZ3JhZFR5cGU6IG51bGwsCiAgICAgICAgICAgICAgICB1bml0WWVhcjogbnVsbCwKICAgICAgICAgICAgICAgIHVuaXRQZXJpb2Q6IG51bGwsCiAgICAgICAgICAgICAgICB1bml0TG9jYXRpb246IG51bGwsCiAgICAgICAgICAgICAgICB1bml0VG90YWxTdHVkZW50OiBudWxsLAogICAgICAgICAgICAgICAgdW5pdE1vZGU6IG51bGwsCiAgICAgICAgICAgICAgICBkaXNjaXBsaW5lSUQ6IG51bGwsCgogICAgICAgICAgICB9LAogICAgICAgICAgICBkaXNjaXBsaW5lT3B0aW9uczogW10sCiAgICAgICAgICAgIGRpc2NpcGxpbmVzOiBudWxsLAogICAgICAgICAgICByZXF1aXJlZDogKHZhbHVlKSA9PiAhIXZhbHVlIHx8ICdSZXF1aXJlZC4nLAogICAgICAgICAgICBlcnJvcjogbnVsbCwKICAgICAgICAgICAgZ3JhZHR5cGU6IFsnUG9zdGdyYWR1YXRlJywnVW5kZXJncmFkdWF0ZSddLAogICAgICAgICAgICB1bml0bW9kZTogWydEJywnWCddLAogICAgICAgICAgICBsb2NhdGlvbjogWydEdWJhaScsJ011cmRvY2gnLCdPVUEnLCdrYXBsYW4nXSwKICAgICAgICAgICAgcGVyaW9kOiBbJ1MxJywnUzInLCdTMycsJ09VQSAxJywnT1VBIDInLCAnT1VBIDMnLCAnVE1DJ10KICAgICAgICB9CgogICAgfSwKICAgIGFzeW5jIG1vdW50ZWQoKXsKICAgICAgICB0aGlzLmRpc2NpcGxpbmVzID0gKGF3YWl0IERpc2NpcGxpbmVTZXJ2aWNlLmluZGV4KCkpLmRhdGEKICAgICAgICB0aGlzLmRpc2NpcGxpbmVPcHRpb25zID0gdGhpcy5kaXNjaXBsaW5lcwogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBhc3luYyBjcmVhdGUoKSB7CiAgICAgICAgICAgIHRoaXMuZXJyb3IgPSBudWxsOwogICAgICAgICAgICBjb25zdCBhcmVBbGxGaWVsZHNGaWxsZWRJbiA9IE9iamVjdAogICAgICAgICAgICAgICAgLmtleXModGhpcy51bml0KQogICAgICAgICAgICAgICAgLmV2ZXJ5KGtleSA9PiAhIXRoaXMudW5pdFtrZXldKQogICAgICAgICAgICBpZiAoIWFyZUFsbEZpZWxkc0ZpbGxlZEluKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnVuaXQpOwogICAgICAgICAgICAgICAgdGhpcy5lcnJvciA9ICdQbGVhc2UgZmlsbCBpbiBhbGwgdGhlIHJlcXVpcmVkIGZpZWxkcy4nCiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgfQoKICAgICAgICAgICAgdHJ5ewogICAgICAgICAgICAgICBhd2FpdCBVbml0U2VydmljZS5wb3N0KHRoaXMudW5pdCkKICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAndW5pdCcKICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH1jYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpCiAgICAgICAgICAgIH0KCiAgICAgICAgfQogICAgfSwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBQYW5lbAogICAgfQp9Cg=="},{"version":3,"sources":["CreateUnit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"CreateUnit.vue","sourceRoot":"src/components/unit","sourcesContent":["<template>\n    <v-app>\n            <v-container\n            class=\"fill-height align-start\"\n            >\n                <v-flex xs6 class=\"mr-4\">\n                    <v-alert\n                            v-if=\"error\"\n                            dismissible\n                            type=\"error\">{{ error }}</v-alert>\n                    <Panel title=\"Unit Metadata\">\n                        <v-card>\n                            <v-card-text>\n                                <v-text-field\n                                        color=\"dark\"\n                                        label=\"Unit ID\"\n                                        type=\"text\"\n                                        required\n                                        :rules=\"[required]\"\n                                        v-model=\"unit.unitID\"\n                                >\n                                </v-text-field>\n                                <v-text-field\n                                        color=\"dark\"\n                                        label=\"Unit Code\"\n                                        type=\"text\"\n                                        required\n                                        :rules=\"[required]\"\n                                        v-model=\"unit.unitCode\"\n                                >\n\n                                </v-text-field>\n                                <v-text-field\n                                        color=\"dark\"\n                                        label=\"Unit Name\"\n                                        required\n                                        :rules=\"[required]\"\n                                        type=\"text\"\n                                        v-model=\"unit.unitName\"\n                                >\n\n                                </v-text-field>\n                                <v-text-field\n                                        color=\"dark\"\n                                        label=\"Unit Tutorial Size\"\n                                        required\n                                        :rules=\"[required]\"\n                                        type=\"text\"\n                                        v-model=\"unit.unitTutorialSize\"\n                                >\n\n                                </v-text-field>\n                                <v-text-field\n                                        color=\"dark\"\n                                        label=\"Unit Year\"\n                                        required\n                                        :rules=\"[required]\"\n                                        type=\"text\"\n                                        v-model=\"unit.unitYear\"\n                                >\n\n                                </v-text-field>\n                                <v-select\n                                        color=\"dark\"\n                                        label=\"Graduation Type\"\n                                        :items=\"gradtype\"\n                                        v-model=\"unit.gradType\"\n                                >\n\n                                </v-select>\n                                <v-select\n                                        color=\"dark\"\n                                        label=\"Unit Period\"\n                                        :items=\"period\"\n                                        v-model=\"unit.unitPeriod\"\n                                >\n\n                                </v-select>\n                            </v-card-text>\n                        </v-card>\n                    </Panel>\n                </v-flex>\n                <v-flex xs5>\n                    <Panel title=\"Unit Metadata\">\n                        <v-card>\n                            <v-card-text>\n                                <v-select\n                                        color=\"dark\"\n                                        label=\"Location\"\n                                        :items=\"location\"\n                                        v-model=\"unit.unitLocation\"\n                                >\n\n                                </v-select>\n                                <v-text-field\n                                        color=\"dark\"\n                                        label=\"Unit Total Student\"\n                                        required\n                                        :rules=\"[required]\"\n                                        type=\"text\"\n                                        v-model=\"unit.unitTotalStudent\"\n                                >\n\n                                </v-text-field>\n                                <v-select\n                                        color=\"dark\"\n                                        label=\"Unit Mode\"\n                                        :items=\"unitmode\"\n                                        v-model=\"unit.unitMode\"\n                                >\n\n                                </v-select>\n\n                                <v-select\n                                        color=\"dark\"\n                                        label=\"Discipline\"\n                                        :items=\"disciplineOptions\"\n                                        single-line\n                                        item-text=\"disciplineName\"\n                                        item-value=\"disciplineID\"\n                                        v-model=\"unit.disciplineID\"\n                                >\n\n                                </v-select>\n\n                            </v-card-text>\n\n                            <v-card-actions>\n                                <v-spacer></v-spacer>\n                                <v-btn dark color=\"dark\" @click=\"create\">Create User</v-btn>\n                            </v-card-actions>\n                        </v-card>\n                    </Panel>\n                </v-flex>\n            </v-container>\n    </v-app>\n</template>\n\n<script>\n    import Panel from '@/components/Panel'\n    import UnitService from \"@/services/UnitService\";\n    import DisciplineService from \"@/services/DisciplineService\";\n    export default {\n        data() {\n            return{\n                unit: {\n                    unitID : null,\n                    unitCode: null,\n                    unitName: null,\n                    unitTutorialSize: null,\n                    gradType: null,\n                    unitYear: null,\n                    unitPeriod: null,\n                    unitLocation: null,\n                    unitTotalStudent: null,\n                    unitMode: null,\n                    disciplineID: null,\n\n                },\n                disciplineOptions: [],\n                disciplines: null,\n                required: (value) => !!value || 'Required.',\n                error: null,\n                gradtype: ['Postgraduate','Undergraduate'],\n                unitmode: ['D','X'],\n                location: ['Dubai','Murdoch','OUA','kaplan'],\n                period: ['S1','S2','S3','OUA 1','OUA 2', 'OUA 3', 'TMC']\n            }\n\n        },\n        async mounted(){\n            this.disciplines = (await DisciplineService.index()).data\n            this.disciplineOptions = this.disciplines\n        },\n        methods: {\n            async create() {\n                this.error = null;\n                const areAllFieldsFilledIn = Object\n                    .keys(this.unit)\n                    .every(key => !!this.unit[key])\n                if (!areAllFieldsFilledIn) {\n                    console.log(this.unit);\n                    this.error = 'Please fill in all the required fields.'\n                    return\n                }\n\n                try{\n                   await UnitService.post(this.unit)\n                       this.$router.push({\n                           name: 'unit'\n                       })\n                }catch (err) {\n                    console.log(err)\n                }\n\n            }\n        },\n        components: {\n            Panel\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>"]}]}