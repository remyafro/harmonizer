{"remainingRequest":"/Users/remy/Documents/GitHub/harmonizer/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/remy/Documents/GitHub/harmonizer/client/src/components/unit/EditUnit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/remy/Documents/GitHub/harmonizer/client/src/components/unit/EditUnit.vue","mtime":1573313705329},{"path":"/Users/remy/Documents/GitHub/harmonizer/client/node_modules/cache-loader/dist/cjs.js","mtime":1572018405923},{"path":"/Users/remy/Documents/GitHub/harmonizer/client/node_modules/babel-loader/lib/index.js","mtime":1572018403706},{"path":"/Users/remy/Documents/GitHub/harmonizer/client/node_modules/vuetify-loader/lib/loader.js","mtime":1572018408543},{"path":"/Users/remy/Documents/GitHub/harmonizer/client/node_modules/cache-loader/dist/cjs.js","mtime":1572018405923},{"path":"/Users/remy/Documents/GitHub/harmonizer/client/node_modules/vue-loader/lib/index.js","mtime":1572018406322}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvUGFuZWwnCmltcG9ydCBEaXNjaXBsaW5lU2VydmljZSBmcm9tICJAL3NlcnZpY2VzL0Rpc2NpcGxpbmVTZXJ2aWNlIjsKaW1wb3J0IFVuaXRTZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2VzL1VuaXRTZXJ2aWNlIjsKZXhwb3J0IGRlZmF1bHQgewogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm57CiAgICAgICAgICAgIHVuaXQ6IHsKICAgICAgICAgICAgICAgIHVuaXRJRCA6IG51bGwsCiAgICAgICAgICAgICAgICB1bml0Q29kZTogbnVsbCwKICAgICAgICAgICAgICAgIHVuaXROYW1lOiBudWxsLAogICAgICAgICAgICAgICAgdW5pdFR1dG9yaWFsU2l6ZTogbnVsbCwKICAgICAgICAgICAgICAgIGdyYWRUeXBlOiBudWxsLAogICAgICAgICAgICAgICAgdW5pdFBlcmlvZDogbnVsbCwKICAgICAgICAgICAgICAgIHVuaXRMb2NhdGlvbjogbnVsbCwKICAgICAgICAgICAgICAgIHVuaXRUb3RhbFN0dWRlbnQ6IG51bGwsCiAgICAgICAgICAgICAgICB1bml0TW9kZTogbnVsbCwKICAgICAgICAgICAgICAgIGRpc2NpcGxpbmVJRDogbnVsbCwKCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRpc2NpcGxpbmVPcHRpb25zOiBbXSwKICAgICAgICAgICAgZGlzY2lwbGluZXM6IG51bGwsCiAgICAgICAgICAgIHJlcXVpcmVkOiAodmFsdWUpID0+ICEhdmFsdWUgfHwgJ1JlcXVpcmVkLicsCiAgICAgICAgICAgIGVycm9yOiBudWxsLAogICAgICAgICAgICBncmFkdHlwZTogWydQb3N0Z3JhZHVhdGUnLCdVbmRlcmdyYWR1YXRlJ10sCiAgICAgICAgICAgIHVuaXRtb2RlOiBbJ0QnLCdYJ10sCiAgICAgICAgICAgIGxvY2F0aW9uOiBbJ0R1YmFpJywnTXVyZG9jaCcsJ09VQScsJ2thcGxhbiddLAogICAgICAgICAgICBwZXJpb2Q6IFsnUzEnLCdTMicsJ1MzJywnT1VBIDEnLCdPVUEgMicsICdPVUEgMycsICdUTUMnXQogICAgICAgIH0KCiAgICB9LAogICAgYXN5bmMgbW91bnRlZCgpewoKICAgICAgICBjb25zdCB1bml0SUQgPSB0aGlzLiRzdG9yZS5zdGF0ZS5yb3V0ZS5wYXJhbXMudW5pdGlkCiAgICAgICAgdGhpcy51bml0ID0gKGF3YWl0IFVuaXRTZXJ2aWNlLnNob3codW5pdElEKSkuZGF0YQogICAgICAgIGNvbnNvbGUubG9nKHRoaXMudW5pdCk7CgogICAgICAgIHRoaXMuZGlzY2lwbGluZXMgPSAoYXdhaXQgRGlzY2lwbGluZVNlcnZpY2UuaW5kZXgoKSkuZGF0YQogICAgICAgIHRoaXMuZGlzY2lwbGluZU9wdGlvbnMgPSB0aGlzLmRpc2NpcGxpbmVzCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGFzeW5jIHNhdmUoKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICB0aGlzLmVycm9yID0gbnVsbDsKICAgICAgICAgICAgICAgIGNvbnN0IGFyZUFsbEZpZWxkc0ZpbGxlZEluID0gT2JqZWN0CiAgICAgICAgICAgICAgICAgICAgLmtleXModGhpcy51bml0KQogICAgICAgICAgICAgICAgICAgIC5ldmVyeShrZXkgPT4gISF0aGlzLnVuaXRba2V5XSkKICAgICAgICAgICAgICAgIGlmICghYXJlQWxsRmllbGRzRmlsbGVkSW4pIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yID0gJ1BsZWFzZSBmaWxsIGluIGFsbCB0aGUgcmVxdWlyZWQgZmllbGRzLicKICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGF3YWl0IFVuaXRTZXJ2aWNlLnB1dCh0aGlzLnVuaXQpCiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3VuaXQnCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycikKICAgICAgICAgICAgfQoKICAgICAgICB9LAogICAgICAgIGFzeW5jIGRlbGV0ZVVuaXQoKSB7CiAgICAgICAgICAgICAgICBhd2FpdCBVbml0U2VydmljZS5kZWxldGUodGhpcy51bml0KQogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICd1bml0JwogICAgICAgICAgICAgICAgfSkKCiAgICAgICAgfQogICAgfSwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBQYW5lbAogICAgfQp9Cg=="},{"version":3,"sources":["EditUnit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"EditUnit.vue","sourceRoot":"src/components/unit","sourcesContent":["<template>\n    <v-app>\n        <v-container\n                class=\"fill-height align-start\"\n        >\n            <v-flex xs6 class=\"mr-4\">\n                <v-alert\n                        v-if=\"error\"\n                        dismissible\n                        type=\"error\">{{ error }}</v-alert>\n                <Panel title=\"Edit Unit\">\n                    <v-card>\n                        <v-card-text>\n                            <v-text-field\n                                    color=\"dark\"\n                                    label=\"Unit ID\"\n                                    type=\"text\"\n                                    required\n                                    :rules=\"[required]\"\n                                    v-model=\"unit.unitID\"\n                            >\n                            </v-text-field>\n                            <v-text-field\n                                    color=\"dark\"\n                                    label=\"Unit Code\"\n                                    type=\"text\"\n                                    required\n                                    :rules=\"[required]\"\n                                    v-model=\"unit.unitCode\"\n                            >\n\n                            </v-text-field>\n                            <v-text-field\n                                    color=\"dark\"\n                                    label=\"Unit Name\"\n                                    required\n                                    :rules=\"[required]\"\n                                    type=\"text\"\n                                    v-model=\"unit.unitName\"\n                            >\n\n                            </v-text-field>\n                            <v-text-field\n                                    color=\"dark\"\n                                    label=\"Unit Tutorial Size\"\n                                    required\n                                    :rules=\"[required]\"\n                                    type=\"text\"\n                                    v-model=\"unit.unitTutorialSize\"\n                            >\n\n                            </v-text-field>\n                            <v-select\n                                    color=\"dark\"\n                                    label=\"Graduation Type\"\n                                    :items=\"gradtype\"\n                                    v-model=\"unit.gradType\"\n                            >\n\n                            </v-select>\n                            <v-select\n                                    color=\"dark\"\n                                    label=\"Unit Period\"\n                                    :items=\"period\"\n                                    v-model=\"unit.unitPeriod\"\n                            >\n\n                            </v-select>\n                        </v-card-text>\n                    </v-card>\n                </Panel>\n            </v-flex>\n            <v-flex xs5>\n                <Panel title=\"Edit Unit\">\n                    <v-card>\n                        <v-card-text>\n                            <v-select\n                                    color=\"dark\"\n                                    label=\"Location\"\n                                    :items=\"location\"\n                                    v-model=\"unit.unitLocation\"\n                            >\n\n                            </v-select>\n                            <v-text-field\n                                    color=\"dark\"\n                                    label=\"Unit Total Student\"\n                                    required\n                                    :rules=\"[required]\"\n                                    type=\"text\"\n                                    v-model=\"unit.unitTotalStudent\"\n                            >\n\n                            </v-text-field>\n                            <v-select\n                                    color=\"dark\"\n                                    label=\"Unit Mode\"\n                                    :items=\"unitmode\"\n                                    v-model=\"unit.unitMode\"\n                            >\n\n                            </v-select>\n\n                            <v-select\n                                    color=\"dark\"\n                                    label=\"Discipline\"\n                                    :items=\"disciplineOptions\"\n                                    single-line\n                                    item-text=\"disciplineName\"\n                                    item-value=\"disciplineID\"\n                                    v-model=\"unit.disciplineID\"\n                            >\n\n                            </v-select>\n\n                        </v-card-text>\n\n                        <v-card-actions>\n                            <v-spacer></v-spacer>\n                            <v-btn dark color=\"dark\" @click=\"save\">Save Unit</v-btn>\n                            <v-btn dark color=\"red\" @click=\"deleteUnit\">Delete</v-btn>\n                        </v-card-actions>\n                    </v-card>\n                </Panel>\n            </v-flex>\n        </v-container>\n    </v-app>\n</template>\n\n<script>\n    import Panel from '@/components/Panel'\n    import DisciplineService from \"@/services/DisciplineService\";\n    import UnitService from \"../../services/UnitService\";\n    export default {\n        data() {\n            return{\n                unit: {\n                    unitID : null,\n                    unitCode: null,\n                    unitName: null,\n                    unitTutorialSize: null,\n                    gradType: null,\n                    unitPeriod: null,\n                    unitLocation: null,\n                    unitTotalStudent: null,\n                    unitMode: null,\n                    disciplineID: null,\n\n                },\n                disciplineOptions: [],\n                disciplines: null,\n                required: (value) => !!value || 'Required.',\n                error: null,\n                gradtype: ['Postgraduate','Undergraduate'],\n                unitmode: ['D','X'],\n                location: ['Dubai','Murdoch','OUA','kaplan'],\n                period: ['S1','S2','S3','OUA 1','OUA 2', 'OUA 3', 'TMC']\n            }\n\n        },\n        async mounted(){\n\n            const unitID = this.$store.state.route.params.unitid\n            this.unit = (await UnitService.show(unitID)).data\n            console.log(this.unit);\n\n            this.disciplines = (await DisciplineService.index()).data\n            this.disciplineOptions = this.disciplines\n        },\n        methods: {\n            async save() {\n                try {\n                    this.error = null;\n                    const areAllFieldsFilledIn = Object\n                        .keys(this.unit)\n                        .every(key => !!this.unit[key])\n                    if (!areAllFieldsFilledIn) {\n                        this.error = 'Please fill in all the required fields.'\n                        return\n                    }\n                    await UnitService.put(this.unit)\n                    this.$router.push({\n                        name: 'unit'\n                    })\n                } catch (err) {\n                    console.log(err)\n                }\n\n            },\n            async deleteUnit() {\n                    await UnitService.delete(this.unit)\n                    this.$router.push({\n                        name: 'unit'\n                    })\n\n            }\n        },\n        components: {\n            Panel\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>"]}]}