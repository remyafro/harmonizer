{"remainingRequest":"/Users/remy/Documents/GitHub/harmonizer/client/node_modules/babel-loader/lib/index.js!/Users/remy/Documents/GitHub/harmonizer/client/node_modules/vuetify-loader/lib/loader.js!/Users/remy/Documents/GitHub/harmonizer/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/remy/Documents/GitHub/harmonizer/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/remy/Documents/GitHub/harmonizer/client/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/remy/Documents/GitHub/harmonizer/client/src/components/Login.vue","mtime":1573481419879},{"path":"/Users/remy/Documents/GitHub/harmonizer/client/node_modules/cache-loader/dist/cjs.js","mtime":1572018405923},{"path":"/Users/remy/Documents/GitHub/harmonizer/client/node_modules/babel-loader/lib/index.js","mtime":1572018403706},{"path":"/Users/remy/Documents/GitHub/harmonizer/client/node_modules/vuetify-loader/lib/loader.js","mtime":1572018408543},{"path":"/Users/remy/Documents/GitHub/harmonizer/client/node_modules/cache-loader/dist/cjs.js","mtime":1572018405923},{"path":"/Users/remy/Documents/GitHub/harmonizer/client/node_modules/vue-loader/lib/index.js","mtime":1572018406322}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL3JlbXkvRG9jdW1lbnRzL0dpdEh1Yi9oYXJtb25pemVyL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEF1dGhlbnRpY2F0aW9uU2VydmljZSBmcm9tICIuLi9zZXJ2aWNlcy9BdXRoZW50aWNhdGlvblNlcnZpY2UiOwppbXBvcnQgUGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL1BhbmVsJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VybmFtZTogJycsCiAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgZXJyb3I6IG51bGwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2xvZ2luID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzcG9uc2UsIGN1cnJlbnRVc2VyUGVybWlzc2lvbjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIEF1dGhlbnRpY2F0aW9uU2VydmljZS5sb2dpbih7CiAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXJuYW1lLAogICAgICAgICAgICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZXRUb2tlbicsIHJlc3BvbnNlLmRhdGEudG9rZW4pOwogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NldFVzZXInLCByZXNwb25zZS5kYXRhLnVzZXIpOwogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NldFBlcm1pc3Npb24nLCByZXNwb25zZS5kYXRhLnVzZXJ0eXBlKTsKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZXREaXNjaXBsaW5lJywgcmVzcG9uc2UuZGF0YS5kaXNjaXBsaW5laWQpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTA7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgdGhpcy5lcnJvciA9IF9jb250ZXh0LnQwLnJlc3BvbnNlLmRhdGEuZXJyb3I7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBjdXJyZW50VXNlclBlcm1pc3Npb24gPSB0aGlzLiRzdG9yZS5zdGF0ZS5wZXJtaXNzaW9uOwoKICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VXNlclBlcm1pc3Npb24gPT09ICdhZG1pbicpIHsKICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdhZG1pbi1kYXNoYm9hcmQnCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50VXNlclBlcm1pc3Npb24gPT09ICdob2QnKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnaG9kLWRhc2hib2FyZCcKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRVc2VyUGVybWlzc2lvbiA9PT0gJ3N0YWZmLUZUJykgewogICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3N0YWZmLWRhc2hib2FyZCcKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRVc2VyUGVybWlzc2lvbiA9PT0gJ3N0YWZmLVBUJykgewogICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3N0YWZmLWRhc2hib2FyZCcKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICB0aGlzLmVycm9yID0gJ0xvZ2luIGluZm9ybWF0aW9uIHdhcyBpbmNvcnJlY3QnOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcywgW1swLCAxMF1dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgICAgcmV0dXJuIF9sb2dpbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gbG9naW47CiAgICB9KCkKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIFBhbmVsOiBQYW5lbAogIH0KfTs="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA,OAAA,qBAAA;AACA,OAAA,KAAA,MAAA,oBAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,KAAA,EAAA;AAHA,KAAA;AAKA,GAPA;AAQA,EAAA,OAAA,EAAA;AACA,IAAA,KADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAGA,qBAAA,CAAA,KAAA,CAAA;AACA,kBAAA,QAAA,EAAA,KAAA,QADA;AAEA,kBAAA,QAAA,EAAA,KAAA;AAFA,iBAAA,CAHA;;AAAA;AAGA,gBAAA,QAHA;AAOA,qBAAA,MAAA,CAAA,QAAA,CAAA,UAAA,EAAA,QAAA,CAAA,IAAA,CAAA,KAAA;AACA,qBAAA,MAAA,CAAA,QAAA,CAAA,SAAA,EAAA,QAAA,CAAA,IAAA,CAAA,IAAA;AACA,qBAAA,MAAA,CAAA,QAAA,CAAA,eAAA,EAAA,QAAA,CAAA,IAAA,CAAA,QAAA;AACA,qBAAA,MAAA,CAAA,QAAA,CAAA,eAAA,EAAA,QAAA,CAAA,IAAA,CAAA,YAAA;AAVA;AAAA;;AAAA;AAAA;AAAA;AAYA,qBAAA,KAAA,GAAA,YAAA,QAAA,CAAA,IAAA,CAAA,KAAA;;AAZA;AAcA,gBAAA,qBAdA,GAcA,KAAA,MAAA,CAAA,KAAA,CAAA,UAdA;;AAeA,oBAAA,qBAAA,KAAA,OAAA,EAAA;AACA,uBAAA,OAAA,CAAA,IAAA,CAAA;AACA,oBAAA,IAAA,EAAA;AADA,mBAAA;AAGA,iBAJA,MAIA,IAAA,qBAAA,KAAA,KAAA,EAAA;AACA,uBAAA,OAAA,CAAA,IAAA,CAAA;AACA,oBAAA,IAAA,EAAA;AADA,mBAAA;AAGA,iBAJA,MAIA,IAAA,qBAAA,KAAA,UAAA,EAAA;AACA,uBAAA,OAAA,CAAA,IAAA,CAAA;AACA,oBAAA,IAAA,EAAA;AADA,mBAAA;AAGA,iBAJA,MAKA,IAAA,qBAAA,KAAA,UAAA,EAAA;AACA,uBAAA,OAAA,CAAA,IAAA,CAAA;AACA,oBAAA,IAAA,EAAA;AADA,mBAAA;AAGA,iBAJA,MAKA;AACA,uBAAA,KAAA,GAAA,iCAAA;AACA;;AAnCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,GARA;AA8CA,EAAA,UAAA,EAAA;AACA,IAAA,KAAA,EAAA;AADA;AA9CA,CAAA","sourcesContent":["<template>\n  <v-app>\n    <v-content>\n      <v-container\n              class=\"fill-height justify-center align-center\"\n              fluid\n      >\n        <v-flex xs6>\n          <v-alert\n                  v-if=\"error\"\n                  dismissible\n                  type=\"error \">{{ error }}</v-alert>\n          <Panel title=\"login\">\n            <v-card>\n              <v-card-text>\n                <v-form>\n                  <v-text-field\n                          color=\"dark\"\n                          label=\"Username\"\n                          name=\"username\"\n                          prepend-icon=\"person\"\n                          type=\"text\"\n                          v-model=\"username\"\n                  ></v-text-field>\n\n                  <v-text-field\n                          color=\"dark\"\n                          id=\"password\"\n                          label=\"Password\"\n                          name=\"password\"\n                          prepend-icon=\"lock\"\n                          type=\"password\"\n                          v-model=\"password\"\n                  ></v-text-field>\n                </v-form>\n              </v-card-text>\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn dark color=\"dark\" @click=\"login\">Login</v-btn>\n              </v-card-actions>\n            </v-card>\n          </Panel>\n        </v-flex>\n      </v-container>\n\n    </v-content>\n  </v-app>\n</template>\n\n<script>\n  import AuthenticationService from '../services/AuthenticationService';\n  import Panel from '@/components/Panel';\n\n  export default {\n    data() {\n      return {\n        username: '',\n        password: '',\n        error: null,\n      }\n    },\n    methods: {\n      async login () {\n        try {\n          const response = await AuthenticationService.login({\n            username: this.username,\n            password: this.password\n          })\n          this.$store.dispatch('setToken', response.data.token)\n          this.$store.dispatch('setUser', response.data.user)\n          this.$store.dispatch('setPermission', response.data.usertype)\n          this.$store.dispatch('setDiscipline', response.data.disciplineid)\n        } catch (error) {\n          this.error = error.response.data.error\n        }\n        const currentUserPermission = this.$store.state.permission\n        if (currentUserPermission === 'admin') {\n          this.$router.push({\n            name: 'admin-dashboard'\n          })\n        } else if (currentUserPermission === 'hod'){\n          this.$router.push({\n            name: 'hod-dashboard'\n          })\n        }else if (currentUserPermission === 'staff-FT'){\n          this.$router.push({\n            name: 'staff-dashboard'\n          })\n        }\n        else if (currentUserPermission === 'staff-PT'){\n          this.$router.push({\n            name: 'staff-dashboard'\n          })\n        }\n        else {\n          this.error = 'Login information was incorrect'\n        }\n      }\n    },\n    components: {\n      Panel\n    }\n  }\n\n</script>\n<style>\n  button{\n    color: #fff;\n  }\n</style>"],"sourceRoot":"src/components"}]}