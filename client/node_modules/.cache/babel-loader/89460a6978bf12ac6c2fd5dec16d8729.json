{"remainingRequest":"/Users/remy/Documents/GitHub/harmonizer/client/node_modules/babel-loader/lib/index.js!/Users/remy/Documents/GitHub/harmonizer/client/node_modules/vuetify-loader/lib/loader.js!/Users/remy/Documents/GitHub/harmonizer/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/remy/Documents/GitHub/harmonizer/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/remy/Documents/GitHub/harmonizer/client/src/components/CreateUser.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/remy/Documents/GitHub/harmonizer/client/src/components/CreateUser.vue","mtime":1573482140506},{"path":"/Users/remy/Documents/GitHub/harmonizer/client/node_modules/cache-loader/dist/cjs.js","mtime":1572018405923},{"path":"/Users/remy/Documents/GitHub/harmonizer/client/node_modules/babel-loader/lib/index.js","mtime":1572018403706},{"path":"/Users/remy/Documents/GitHub/harmonizer/client/node_modules/vuetify-loader/lib/loader.js","mtime":1572018408543},{"path":"/Users/remy/Documents/GitHub/harmonizer/client/node_modules/cache-loader/dist/cjs.js","mtime":1572018405923},{"path":"/Users/remy/Documents/GitHub/harmonizer/client/node_modules/vue-loader/lib/index.js","mtime":1572018406322}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZXZlcnkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9yZW15L0RvY3VtZW50cy9HaXRIdWIvaGFybW9uaXplci9jbGllbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBQYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvUGFuZWwnOwppbXBvcnQgVXNlcnNTZXJ2aWNlIGZyb20gIi4uL3NlcnZpY2VzL1VzZXJzU2VydmljZSI7CmltcG9ydCBEaXNjaXBsaW5lU2VydmljZSBmcm9tICIuLi9zZXJ2aWNlcy9EaXNjaXBsaW5lU2VydmljZSI7CmltcG9ydCBVc2VyV29ya0xvYWRTZXJ2aWNlIGZyb20gIi4uL3NlcnZpY2VzL1VzZXJXb3JrTG9hZFNlcnZpY2UiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXI6IHsKICAgICAgICB1c2VySUQ6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAxKSArIDEsCiAgICAgICAgdXNlckxvZ2luOiBudWxsLAogICAgICAgIHVzZXJQYXNzd29yZDogbnVsbCwKICAgICAgICB1c2VyTmFtZTogbnVsbCwKICAgICAgICB1c2VyQ29udGFjdDogbnVsbCwKICAgICAgICB1c2VyRW1haWw6IG51bGwsCiAgICAgICAgZGlzY2lwbGluZUlEOiBudWxsLAogICAgICAgIGFjY291bnRUeXBlOiBudWxsCiAgICAgIH0sCiAgICAgIGFjY291bnRzOiBbJ2FkbWluJywgJ3N0YWZmLVBUJywgJ3N0YWZmLUZUJywgJ2hvZCddLAogICAgICBkaXNjaXBsaW5lT3B0aW9uczogW10sCiAgICAgIGRpc2NpcGxpbmVzOiBudWxsLAogICAgICByZXF1aXJlZDogZnVuY3Rpb24gcmVxdWlyZWQodmFsdWUpIHsKICAgICAgICByZXR1cm4gISF2YWx1ZSB8fCAnUmVxdWlyZWQuJzsKICAgICAgfSwKICAgICAgZXJyb3I6IG51bGwKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgX21vdW50ZWQgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgIC8qI19fUFVSRV9fKi8KICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gRGlzY2lwbGluZVNlcnZpY2UuaW5kZXgoKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICB0aGlzLmRpc2NpcGxpbmVzID0gX2NvbnRleHQuc2VudC5kYXRhOwogICAgICAgICAgICAgIHRoaXMuZGlzY2lwbGluZU9wdGlvbnMgPSB0aGlzLmRpc2NpcGxpbmVzOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgIH0pKTsKCiAgICBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgICByZXR1cm4gX21vdW50ZWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICByZXR1cm4gbW91bnRlZDsKICB9KCksCiAgbWV0aG9kczogewogICAgY3JlYXRlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfY3JlYXRlID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgdmFyIGFyZUFsbEZpZWxkc0ZpbGxlZEluOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0aGlzLmVycm9yID0gbnVsbDsKICAgICAgICAgICAgICAgIGFyZUFsbEZpZWxkc0ZpbGxlZEluID0gT2JqZWN0LmtleXModGhpcy51c2VyKS5ldmVyeShmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiAhIV90aGlzLnVzZXJba2V5XTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGlmIChhcmVBbGxGaWVsZHNGaWxsZWRJbikgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMudXNlcik7CiAgICAgICAgICAgICAgICB0aGlzLmVycm9yID0gJ1BsZWFzZSBmaWxsIGluIGFsbCB0aGUgcmVxdWlyZWQgZmllbGRzLic7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIGlmICghKHRoaXMudXNlci5hY2NvdW50VHlwZSAhPSAnYWRtaW4nKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDc7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIFVzZXJzU2VydmljZS5wb3N0KHRoaXMudXNlcik7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgcmV0dXJuIFVzZXJXb3JrTG9hZFNlcnZpY2UucG9zdCh0aGlzLnVzZXIpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAndXNlcicKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxODsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxNTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSg3KTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0Mi50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDIwOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyMzsKICAgICAgICAgICAgICAgIHJldHVybiBVc2Vyc1NlcnZpY2UucG9zdCh0aGlzLnVzZXIpOwoKICAgICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAndXNlcicKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAyNjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MSA9IF9jb250ZXh0MlsiY2F0Y2giXSgyMCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dDIudDEpOwoKICAgICAgICAgICAgICBjYXNlIDI5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzLCBbWzcsIDE1XSwgWzIwLCAyNl1dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gY3JlYXRlKCkgewogICAgICAgIHJldHVybiBfY3JlYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBjcmVhdGU7CiAgICB9KCkKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIFBhbmVsOiBQYW5lbAogIH0KfTs="},{"version":3,"sources":["CreateUser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoHA,OAAA,KAAA,MAAA,oBAAA;AACA,OAAA,YAAA;AACA,OAAA,iBAAA;AACA,OAAA,mBAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,MAAA,EAAA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA,MAAA,KAAA,KAAA,IAAA,CADA;AAEA,QAAA,SAAA,EAAA,IAFA;AAGA,QAAA,YAAA,EAAA,IAHA;AAIA,QAAA,QAAA,EAAA,IAJA;AAKA,QAAA,WAAA,EAAA,IALA;AAMA,QAAA,SAAA,EAAA,IANA;AAOA,QAAA,YAAA,EAAA,IAPA;AAQA,QAAA,WAAA,EAAA;AARA,OADA;AAWA,MAAA,QAAA,EAAA,CAAA,OAAA,EAAA,UAAA,EAAA,UAAA,EAAA,KAAA,CAXA;AAYA,MAAA,iBAAA,EAAA,EAZA;AAaA,MAAA,WAAA,EAAA,IAbA;AAcA,MAAA,QAAA,EAAA,kBAAA,KAAA;AAAA,eAAA,CAAA,CAAA,KAAA,IAAA,WAAA;AAAA,OAdA;AAeA,MAAA,KAAA,EAAA;AAfA,KAAA;AAkBA,GApBA;AAqBA,EAAA,OArBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAsBA,iBAAA,CAAA,KAAA,EAtBA;;AAAA;AAsBA,mBAAA,WAtBA,iBAsBA,IAtBA;AAuBA,mBAAA,iBAAA,GAAA,KAAA,WAAA;;AAvBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAyBA,EAAA,OAAA,EAAA;AACA,IAAA,MADA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,qBAAA,KAAA,GAAA,IAAA;AACA,gBAAA,oBAHA,GAGA,MAAA,CACA,IADA,CACA,KAAA,IADA,EAEA,KAFA,CAEA,UAAA,GAAA;AAAA,yBAAA,CAAA,CAAA,KAAA,CAAA,IAAA,CAAA,GAAA,CAAA;AAAA,iBAFA,CAHA;;AAAA,oBAMA,oBANA;AAAA;AAAA;AAAA;;AAOA,gBAAA,OAAA,CAAA,GAAA,CAAA,KAAA,IAAA;AACA,qBAAA,KAAA,GAAA,yCAAA;AARA;;AAAA;AAAA,sBAYA,KAAA,IAAA,CAAA,WAAA,IAAA,OAZA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,uBAcA,YAAA,CAAA,IAAA,CAAA,KAAA,IAAA,CAdA;;AAAA;AAAA;AAAA,uBAeA,mBAAA,CAAA,IAAA,CAAA,KAAA,IAAA,CAfA;;AAAA;AAgBA,qBAAA,OAAA,CAAA,IAAA,CAAA;AACA,kBAAA,IAAA,EAAA;AADA,iBAAA;AAhBA;AAAA;;AAAA;AAAA;AAAA;AAoBA,gBAAA,OAAA,CAAA,GAAA;;AApBA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA,uBAyBA,YAAA,CAAA,IAAA,CAAA,KAAA,IAAA,CAzBA;;AAAA;AA0BA,qBAAA,OAAA,CAAA,IAAA,CAAA;AACA,kBAAA,IAAA,EAAA;AADA,iBAAA;AA1BA;AAAA;;AAAA;AAAA;AAAA;AA8BA,gBAAA,OAAA,CAAA,GAAA;;AA9BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,GAzBA;AA6DA,EAAA,UAAA,EAAA;AACA,IAAA,KAAA,EAAA;AADA;AA7DA,CAAA","sourcesContent":["<template>\n    <v-app>\n            <v-container\n            class=\"fill-height align-start\"\n            >\n                <v-flex xs6 class=\"mr-4\">\n                    <v-alert\n                            v-if=\"error\"\n                            dismissible\n                            type=\"error\">{{ error }}</v-alert>\n                    <Panel title=\"User Metadata\">\n                        <v-card>\n                            <v-card-text>\n                                <v-text-field\n                                        color=\"dark\"\n                                        label=\"User ID\"\n                                        type=\"text\"\n                                        required\n                                        :rules=\"[required]\"\n                                        v-model=\"user.userID\"\n                                >\n                                </v-text-field>\n                                <v-text-field\n                                        color=\"dark\"\n                                        label=\"User Login\"\n                                        type=\"text\"\n                                        required\n                                        :rules=\"[required]\"\n                                        v-model=\"user.userLogin\"\n                                >\n\n                                </v-text-field>\n                                <v-text-field\n                                        color=\"dark\"\n                                        label=\"User Password\"\n                                        required\n                                        :rules=\"[required]\"\n                                        type=\"password\"\n                                        v-model=\"user.userPassword\"\n                                >\n\n                                </v-text-field>\n                                <v-text-field\n                                        color=\"dark\"\n                                        label=\"User Name\"\n                                        required\n                                        :rules=\"[required]\"\n                                        type=\"text\"\n                                        v-model=\"user.userName\"\n                                >\n\n                                </v-text-field>\n                                <v-text-field\n                                        color=\"dark\"\n                                        label=\"User Contact\"\n                                        required\n                                        :rules=\"[required]\"\n                                        type=\"text\"\n                                        v-model=\"user.userContact\"\n                                >\n\n                                </v-text-field>\n                                <v-text-field\n                                        color=\"dark\"\n                                        label=\"User Email\"\n                                        required\n                                        :rules=\"[required]\"\n                                        hint=\"Ending with @murdoch.edu.au\"\n                                        persistent-hint\n                                        type=\"text\"\n                                        v-model=\"user.userEmail\"\n                                >\n\n                                </v-text-field>\n                            </v-card-text>\n                        </v-card>\n                    </Panel>\n                </v-flex>\n                <v-flex xs5>\n                    <Panel title=\"User Metadata\">\n                        <v-card>\n                            <v-card-text>\n\n                                <v-select\n                                        color=\"dark\"\n                                        label=\"Discipline ID\"\n                                        :items=\"disciplineOptions\"\n                                        single-line\n                                        item-text=\"disciplineName\"\n                                        item-value=\"disciplineID\"\n                                        v-model=\"user.disciplineID\"\n                                >\n\n                                </v-select>\n                                <v-select\n                                        color=\"dark\"\n                                        label=\"Account Type\"\n                                        :items=\"accounts\"\n                                        v-model=\"user.accountType\"\n                                >\n\n                                </v-select>\n                            </v-card-text>\n\n                            <v-card-actions>\n                                <v-spacer></v-spacer>\n                                <v-btn dark color=\"dark\" @click=\"create\">Create User</v-btn>\n                            </v-card-actions>\n                        </v-card>\n                    </Panel>\n                </v-flex>\n            </v-container>\n    </v-app>\n</template>\n\n<script>\n    import Panel from '@/components/Panel'\n    import UsersService from \"../services/UsersService\";\n    import DisciplineService from \"../services/DisciplineService\";\n    import UserWorkLoadService from \"../services/UserWorkLoadService\";\n    export default {\n        data() {\n            return{\n                user: {\n                    userID : Math.floor(Math.random() * 10001) + 1,\n                    userLogin: null,\n                    userPassword: null,\n                    userName: null,\n                    userContact: null,\n                    userEmail: null,\n                    disciplineID: null,\n                    accountType: null,\n                },\n                accounts: ['admin','staff-PT','staff-FT','hod'],\n                disciplineOptions: [],\n                disciplines: null,\n                required: (value) => !!value || 'Required.',\n                error: null\n            }\n\n        },\n        async mounted(){\n            this.disciplines = (await DisciplineService.index()).data\n            this.disciplineOptions = this.disciplines\n        },\n        methods: {\n            async create() {\n                this.error = null;\n                const areAllFieldsFilledIn = Object\n                    .keys(this.user)\n                    .every(key => !!this.user[key])\n                if (!areAllFieldsFilledIn) {\n                    console.log(this.user);\n                    this.error = 'Please fill in all the required fields.'\n                    return\n                }\n\n                if(this.user.accountType != 'admin'){\n                    try{\n                        await UsersService.post(this.user)\n                        await UserWorkLoadService.post(this.user)\n                        this.$router.push({\n                            name: 'user'\n                        })\n                    }catch (err) {\n                        console.log(err)\n                    }\n                }\n                else {\n                    try{\n                        await UsersService.post(this.user)\n                        this.$router.push({\n                            name: 'user'\n                        })\n                    }catch (err) {\n                        console.log(err)\n                    }\n                }\n\n            }\n        },\n        components: {\n            Panel\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":"src/components"}]}